<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>使い方ガイド - RocketWhisper for Mac</title>
<meta name="description" content="RocketWhisper for Macの使い方ガイド。インストールから高度な設定まで詳しく解説。">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+JP:wght@300;400;500;600;700;900&display=swap" rel="stylesheet">
<style>
/* ========== Reset & Base ========== */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; font-size: 16px; }
body {
  font-family: 'Noto Sans JP', 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: #050510;
  color: #e0e0e8;
  line-height: 1.7;
  overflow-x: hidden;
}
a { color: inherit; text-decoration: none; }
img { max-width: 100%; height: auto; }

/* ========== Utility ========== */
.container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }
.gradient-text {
  background: linear-gradient(135deg, #60a5fa 0%, #a78bfa 50%, #f472b6 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* ========== Keyframe Animations ========== */
@keyframes particle-rise {
  0% { transform: translateY(0) scale(1); opacity: 0.6; }
  100% { transform: translateY(-100vh) scale(0); opacity: 0; }
}
@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.4; }
}

/* ========== Floating Particles Background ========== */
.particles {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0;
  overflow: hidden;
}
.particle {
  position: absolute;
  width: 3px;
  height: 3px;
  background: rgba(96, 165, 250, 0.3);
  border-radius: 50%;
  animation: particle-rise linear infinite;
}
.particle:nth-child(1) { left: 10%; animation-duration: 18s; animation-delay: 0s; width: 2px; height: 2px; }
.particle:nth-child(2) { left: 25%; animation-duration: 22s; animation-delay: 3s; background: rgba(167, 139, 250, 0.25); }
.particle:nth-child(3) { left: 40%; animation-duration: 16s; animation-delay: 1s; width: 4px; height: 4px; }
.particle:nth-child(4) { left: 55%; animation-duration: 25s; animation-delay: 5s; background: rgba(244, 114, 182, 0.2); }
.particle:nth-child(5) { left: 70%; animation-duration: 20s; animation-delay: 2s; }
.particle:nth-child(6) { left: 85%; animation-duration: 19s; animation-delay: 4s; background: rgba(167, 139, 250, 0.2); width: 2px; height: 2px; }
.particle:nth-child(7) { left: 15%; animation-duration: 23s; animation-delay: 7s; }
.particle:nth-child(8) { left: 50%; animation-duration: 17s; animation-delay: 6s; background: rgba(244, 114, 182, 0.15); width: 4px; height: 4px; }
.particle:nth-child(9) { left: 65%; animation-duration: 21s; animation-delay: 8s; }
.particle:nth-child(10) { left: 90%; animation-duration: 24s; animation-delay: 1s; background: rgba(96, 165, 250, 0.2); }
.particle:nth-child(11) { left: 5%; animation-duration: 26s; animation-delay: 10s; width: 2px; height: 2px; }
.particle:nth-child(12) { left: 35%; animation-duration: 15s; animation-delay: 3s; background: rgba(167, 139, 250, 0.3); }

/* ========== Navigation ========== */
nav {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 100;
  padding: 16px 0;
  transition: background 0.3s ease, backdrop-filter 0.3s ease;
}
nav.scrolled {
  background: rgba(5, 5, 16, 0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border-bottom: 1px solid rgba(255,255,255,0.06);
}
nav .container {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.nav-logo {
  font-size: 1.1rem;
  font-weight: 700;
  letter-spacing: -0.02em;
}
.nav-logo span { color: #60a5fa; }
.nav-links { display: flex; gap: 28px; list-style: none; align-items: center; }
.nav-links a {
  font-size: 0.85rem;
  font-weight: 400;
  color: #9ca3af;
  transition: color 0.2s;
}
.nav-links a:hover { color: #fff; }
.nav-links a.active { color: #fff; font-weight: 600; }
.nav-cta {
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  padding: 8px 20px;
  border-radius: 8px;
  font-size: 0.85rem;
  font-weight: 600;
  color: #fff !important;
  transition: opacity 0.2s, transform 0.2s;
}
.nav-cta:hover { opacity: 0.9; transform: translateY(-1px); }
.mobile-menu { display: none; cursor: pointer; }
.mobile-menu span {
  display: block;
  width: 24px;
  height: 2px;
  background: #e0e0e8;
  margin: 5px 0;
  transition: 0.3s;
}

/* ========== Page Header ========== */
.page-header {
  padding: 140px 0 60px;
  text-align: center;
  position: relative;
  background: radial-gradient(ellipse 80% 50% at 50% 0%, rgba(59, 130, 246, 0.1), transparent);
}
.page-header h1 {
  font-size: clamp(2rem, 4vw, 3rem);
  font-weight: 800;
  margin-bottom: 12px;
}
.page-header p {
  color: #9ca3af;
  font-size: 1.05rem;
  max-width: 560px;
  margin: 0 auto;
}

/* ========== Table of Contents ========== */
nav.toc {
  position: relative;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 16px;
  padding: 28px 32px;
  margin-bottom: 48px;
}
nav.toc h2 {
  font-size: 1.1rem;
  font-weight: 700;
  margin-bottom: 16px;
  color: #e0e0e8;
}
nav.toc ol {
  columns: 2;
  column-gap: 32px;
  padding-left: 20px;
  color: #9ca3af;
  font-size: 0.9rem;
}
nav.toc li {
  margin-bottom: 6px;
  break-inside: avoid;
}
nav.toc a {
  color: #60a5fa;
  transition: color 0.2s;
}
nav.toc a:hover {
  color: #a78bfa;
  text-decoration: underline;
}

/* ========== Content Sections ========== */
.content-section {
  margin-bottom: 48px;
  padding: 32px;
  background: rgba(255,255,255,0.02);
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 16px;
}
.content-section h2 {
  font-size: 1.5rem;
  font-weight: 700;
  margin-bottom: 20px;
  padding-bottom: 12px;
  border-bottom: 1px solid rgba(255,255,255,0.08);
}
.content-section h3 {
  font-size: 1.15rem;
  font-weight: 600;
  margin: 24px 0 12px;
  color: #60a5fa;
}
.content-section h4 {
  font-size: 1rem;
  font-weight: 600;
  margin: 16px 0 8px;
}
.content-section p {
  margin-bottom: 12px;
  color: #9ca3af;
}
.content-section ul, .content-section ol {
  margin-bottom: 16px;
  padding-left: 24px;
  color: #9ca3af;
}
.content-section li {
  margin-bottom: 6px;
}
.content-section a {
  color: #60a5fa;
}
.content-section a:hover {
  text-decoration: underline;
}
.content-section code {
  background: rgba(96, 165, 250, 0.1);
  padding: 2px 8px;
  border-radius: 4px;
  font-size: 0.9rem;
  color: #60a5fa;
}
.content-section strong {
  color: #e0e0e8;
}

/* ========== Info Cards ========== */
.info-card {
  background: rgba(59, 130, 246, 0.06);
  border: 1px solid rgba(59, 130, 246, 0.15);
  border-radius: 12px;
  padding: 20px;
  margin: 16px 0;
}
.info-card h4 {
  color: #60a5fa;
  font-size: 1rem;
  margin-bottom: 10px;
}

/* ========== Tip Boxes ========== */
.tip-box {
  background: rgba(251, 191, 36, 0.06);
  border: 1px solid rgba(251, 191, 36, 0.15);
  border-radius: 12px;
  padding: 20px;
  margin: 16px 0;
}
.tip-box strong {
  color: #fbbf24;
}
.tip-box p {
  color: #9ca3af;
  margin-bottom: 0;
}

/* ========== Warning Boxes ========== */
.warning-box {
  background: rgba(248, 113, 113, 0.06);
  border: 1px solid rgba(248, 113, 113, 0.15);
  border-radius: 12px;
  padding: 20px;
  margin: 16px 0;
}
.warning-box strong {
  color: #f87171;
}
.warning-box p {
  color: #9ca3af;
  margin-bottom: 0;
}

/* ========== Tables ========== */
.command-table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
}
.command-table th, .command-table td {
  padding: 12px 16px;
  text-align: left;
  border-bottom: 1px solid rgba(255,255,255,0.06);
  font-size: 0.9rem;
}
.command-table th {
  color: #6b7280;
  font-weight: 600;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.05em;
}
.command-table td {
  color: #9ca3af;
}
.command-table tr:hover td {
  background: rgba(255,255,255,0.02);
}
.recommended-badge {
  display: inline-block;
  padding: 2px 8px;
  background: rgba(52, 211, 153, 0.15);
  color: #34d399;
  border-radius: 4px;
  font-size: 0.7rem;
  font-weight: 600;
  margin-left: 8px;
}

/* ========== Steps List ========== */
.steps-list {
  counter-reset: step-counter;
  list-style: none;
  padding-left: 0;
}
.steps-list li {
  counter-increment: step-counter;
  position: relative;
  padding-left: 40px;
  margin-bottom: 16px;
}
.steps-list li::before {
  content: counter(step-counter);
  position: absolute;
  left: 0;
  top: 2px;
  width: 26px;
  height: 26px;
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.75rem;
  font-weight: 700;
  color: #fff;
  text-align: center;
  line-height: 26px;
}

/* ========== FAQ Accordion ========== */
.faq-item {
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 12px;
  margin-bottom: 8px;
  overflow: hidden;
}
.faq-question {
  width: 100%;
  padding: 16px 20px;
  background: rgba(255,255,255,0.02);
  border: none;
  color: #e0e0e8;
  font-size: 0.95rem;
  font-weight: 500;
  text-align: left;
  cursor: pointer;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-family: inherit;
  transition: background 0.2s;
}
.faq-question:hover {
  background: rgba(255,255,255,0.04);
}
.faq-question::after {
  content: '+';
  font-size: 1.2rem;
  color: #6b7280;
  transition: transform 0.3s;
  flex-shrink: 0;
  margin-left: 16px;
}
.faq-item.active .faq-question::after {
  transform: rotate(45deg);
}
.faq-answer {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.3s ease;
}
.faq-answer-content {
  padding: 0 20px 16px;
  color: #9ca3af;
  font-size: 0.9rem;
  line-height: 1.7;
}
.faq-answer-content a {
  color: #60a5fa;
}
.faq-answer-content a:hover {
  text-decoration: underline;
}

/* ========== Section Number Badge ========== */
.section-num {
  display: inline-block;
  padding: 2px 10px;
  background: linear-gradient(135deg, rgba(59, 130, 246, 0.15), rgba(139, 92, 246, 0.15));
  border-radius: 6px;
  font-size: 0.75rem;
  font-weight: 700;
  color: #60a5fa;
  margin-right: 10px;
  vertical-align: middle;
}

/* ========== Footer ========== */
footer {
  padding: 48px 0;
  border-top: 1px solid rgba(255,255,255,0.06);
}
.footer-content {
  display: flex;
  justify-content: space-between;
  align-items: center;
}
.footer-logo {
  font-size: 0.95rem;
  font-weight: 700;
}
.footer-logo span { color: #60a5fa; }
.footer-links {
  display: flex;
  gap: 24px;
  list-style: none;
}
.footer-links a {
  font-size: 0.8rem;
  color: #6b7280;
  transition: color 0.2s;
}
.footer-links a:hover { color: #e0e0e8; }
.footer-copy {
  font-size: 0.75rem;
  color: #4b5563;
  text-align: center;
  margin-top: 32px;
  padding-top: 24px;
  border-top: 1px solid rgba(255,255,255,0.04);
}

/* ========== Support Link Section ========== */
.support-link-section {
  text-align: center;
  padding: 48px 32px;
  background: rgba(59, 130, 246, 0.04);
  border: 1px solid rgba(59, 130, 246, 0.12);
  border-radius: 16px;
  margin-bottom: 48px;
}
.support-link-section h3 {
  font-size: 1.3rem;
  font-weight: 700;
  margin-bottom: 12px;
  color: #e0e0e8;
}
.support-link-section p {
  color: #9ca3af;
  margin-bottom: 20px;
}
.support-link-section a.btn-support {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 12px 28px;
  background: linear-gradient(135deg, #3b82f6, #8b5cf6);
  border-radius: 10px;
  font-size: 0.95rem;
  font-weight: 600;
  color: #fff;
  transition: transform 0.2s, box-shadow 0.2s;
}
.support-link-section a.btn-support:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px rgba(59, 130, 246, 0.3);
  text-decoration: none;
}

/* ========== Responsive ========== */
@media (max-width: 768px) {
  .nav-links { display: none; }
  .nav-links.show { display: flex; flex-direction: column; position: absolute; top: 60px; right: 24px; background: rgba(5,5,16,0.95); backdrop-filter: blur(20px); padding: 20px; border-radius: 12px; border: 1px solid rgba(255,255,255,0.08); gap: 16px; }
  .mobile-menu { display: block; }
  .command-table { font-size: 0.8rem; }
  .command-table th, .command-table td { padding: 8px; }
  nav.toc ol { columns: 1; }
  .footer-content { flex-direction: column; gap: 16px; text-align: center; }
  .footer-links { flex-wrap: wrap; justify-content: center; }
  .content-section { padding: 24px 20px; }
  .page-header { padding: 120px 0 40px; }
}
</style>
</head>
<body>

<!-- ========== Floating Particles ========== -->
<div class="particles">
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
  <div class="particle"></div>
</div>

<!-- ========== Navigation ========== -->
<nav id="navbar">
  <div class="container">
    <a href="index.html" class="nav-logo">Rocket<span>Whisper</span></a>
    <ul class="nav-links">
      <li><a href="index.html#features">Features</a></li>
      <li><a href="purchase.html">Purchase</a></li>
      <li><a href="help.html" class="active">Help</a></li>
      <li><a href="privacy.html">Privacy</a></li>
      <li><a href="support.html">Support</a></li>
      <li><a href="index.html#download" class="nav-cta">Download</a></li>
    </ul>
    <div class="mobile-menu" onclick="document.querySelector('.nav-links').classList.toggle('show')">
      <span></span><span></span><span></span>
    </div>
  </div>
</nav>

<!-- ========== Page Header ========== -->
<section class="page-header">
  <div class="container">
    <h1><span class="gradient-text">使い方ガイド</span></h1>
    <p>RocketWhisper for Macの基本的な使い方から高度な設定まで、詳しく解説します。</p>
  </div>
</section>

<!-- ========== Main Content ========== -->
<main class="container" style="position: relative; z-index: 1; padding-bottom: 64px;">

  <!-- ========== Table of Contents ========== -->
  <nav class="toc">
    <h2>目次</h2>
    <ol>
      <li><a href="#install">インストール方法</a></li>
      <li><a href="#basic">基本的な使い方</a></li>
      <li><a href="#settings">設定</a></li>
      <li><a href="#hotkey">グローバルホットキー</a></li>
      <li><a href="#history">認識履歴</a></li>
      <li><a href="#text-processing">テキスト処理（句読点・改行）</a></li>
      <li><a href="#voice-commands">音声コマンド</a></li>
      <li><a href="#dictionary">単語辞書（専門用語登録）</a></li>
      <li><a href="#correction">誤認識修正ルール</a></li>
      <li><a href="#app-modes">アプリ別処理モード</a></li>
      <li><a href="#ai">AI処理（LLM連携）</a></li>
      <li><a href="#ai-command">AIコマンドモード</a></li>
      <li><a href="#voice-launcher">ボイスランチャー</a></li>
      <li><a href="#voice-search">音声検索</a></li>
      <li><a href="#menubar">メニューバーアイコン</a></li>
      <li><a href="#waveform">フローティング波形インジケーター</a></li>
      <li><a href="#batch">バッチ処理</a></li>
      <li><a href="#troubleshooting">トラブルシューティング</a></li>
    </ol>
  </nav>

  <!-- ========== Section 1: インストール方法 ========== -->
  <section id="install" class="content-section">
    <h2><span class="section-num">1</span>インストール方法</h2>

    <h3>動作要件</h3>
    <div class="info-card">
      <h4>システム要件</h4>
      <ul>
        <li><strong>OS:</strong> macOS 14.0 Sonoma 以降</li>
        <li><strong>プロセッサ:</strong> Apple Silicon 推奨（M1 / M2 / M3 / M4）</li>
        <li><strong>メモリ:</strong> RAM 8GB以上推奨（16GB推奨）</li>
        <li><strong>ストレージ:</strong> 200MB + モデルファイル（最大3GB）</li>
      </ul>
    </div>

    <h3>インストール手順</h3>
    <ol class="steps-list">
      <li><a href="index.html#download">ダウンロードページ</a>から最新版の <code>.dmg</code> ファイルをダウンロードします。</li>
      <li>ダウンロードした DMG ファイルをダブルクリックして開き、<strong>RocketWhisper</strong> アイコンを <strong>Applications</strong> フォルダにドラッグ&ドロップします。</li>
      <li>初回起動時に Gatekeeper の警告が表示される場合は、「開く」を選択してください。もしくは、<strong>システム設定</strong> &gt; <strong>プライバシーとセキュリティ</strong> から「このまま開く」をクリックしてください。</li>
      <li>初回起動時に使用する Whisper モデルのダウンロードが始まります。ネットワーク環境に応じて数分かかる場合があります。</li>
    </ol>

    <h3>モデルの選び方</h3>
    <div class="info-card">
      <h4>Whisper モデル比較</h4>
      <table class="command-table">
        <thead>
          <tr>
            <th>モデル</th>
            <th>サイズ</th>
            <th>精度</th>
            <th>速度</th>
            <th>おすすめ用途</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Small</td>
            <td>500MB</td>
            <td>高</td>
            <td>速い</td>
            <td>低スペックMac向け</td>
          </tr>
          <tr>
            <td>Medium</td>
            <td>1.5GB</td>
            <td>高</td>
            <td>普通</td>
            <td>5秒以内の音声</td>
          </tr>
          <tr>
            <td>Large V3 Turbo <span class="recommended-badge">推奨</span></td>
            <td>1.6GB</td>
            <td>高</td>
            <td>速い</td>
            <td>5〜20秒の音声</td>
          </tr>
          <tr>
            <td>Large V3</td>
            <td>3.0GB</td>
            <td>最高</td>
            <td>やや遅い</td>
            <td>20秒以上の音声</td>
          </tr>
        </tbody>
      </table>
    </div>

    <div class="tip-box">
      <p><strong>Tip:</strong> 迷ったら <strong>Large V3 Turbo</strong> がおすすめです。精度と速度のバランスに優れ、Apple Silicon の Neural Engine で高速に動作します。</p>
      <p>※ 日本語の音声認識には <strong>Large V3 Turbo 以上</strong>のモデルを推奨します。Small / Medium では漢字変換やカタカナ語の精度が低下する場合があります。</p>
    </div>
  </section>

  <!-- ========== Section 2: 基本的な使い方 ========== -->
  <section id="basic" class="content-section">
    <h2><span class="section-num">2</span>基本的な使い方</h2>

    <h3>マイク入力で音声認識</h3>
    <ol class="steps-list">
      <li>メニューバーの <strong>RocketWhisper アイコン</strong>をクリックして、ポップアップウィンドウを表示します。</li>
      <li><strong>録音ボタン</strong>（マイクアイコン）をクリックします。</li>
      <li>マイクに向かって話します。</li>
      <li><strong>停止ボタン</strong>をクリックします。</li>
      <li>認識結果がテキストエリアに表示されます。</li>
    </ol>

    <h3>認識結果の利用</h3>
    <ul>
      <li><strong>コピー:</strong> コピーボタンをクリックすると、認識結果がクリップボードにコピーされます。</li>
      <li><strong>自動コピー:</strong> 設定で有効にすると、認識完了時に自動的にクリップボードにコピーされます。</li>
      <li><strong>自動貼り付け:</strong> 設定で有効にすると、ホットキー録音時に認識結果が自動的にアクティブなアプリのテキストフィールドに貼り付けられます。</li>
    </ul>

    <div class="tip-box">
      <p><strong>Tip:</strong> ホットキーを使った録音では、録音開始前にフォーカスされていたアプリに自動的にテキストを貼り付けることができます。UIボタンからの録音では手動でコピー&ペーストする必要があります。</p>
    </div>
  </section>

  <!-- ========== Section 3: 設定 ========== -->
  <section id="settings" class="content-section">
    <h2><span class="section-num">3</span>設定</h2>

    <p>ポップアップウィンドウの<strong>歯車アイコン</strong>をクリックして設定画面を開きます。以下のタブで各種設定が可能です。</p>

    <table class="command-table">
      <thead>
        <tr>
          <th>タブ</th>
          <th>設定内容</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>モデル・言語</strong></td>
          <td>Whisper モデルの選択、認識言語の設定</td>
        </tr>
        <tr>
          <td><strong>入力デバイス</strong></td>
          <td>マイクデバイスの選択、自動コピー、自動貼り付けの設定</td>
        </tr>
        <tr>
          <td><strong>ホットキー</strong></td>
          <td>録音ホットキーのカスタマイズ、右Optionキー設定、キャンセルキー、AIコマンドホットキー（<code>&#8963;&#8679;Space</code>）</td>
        </tr>
        <tr>
          <td><strong>単語辞書</strong></td>
          <td>専門用語・社名・人名等のカスタム用語登録</td>
        </tr>
        <tr>
          <td><strong>テキスト処理</strong></td>
          <td>句読点自動挿入、改行挿入、音声コマンドの有効/無効</td>
        </tr>
        <tr>
          <td><strong>誤認識修正</strong></td>
          <td>自動修正の有効/無効、プリセットルール、カスタムルールの管理</td>
        </tr>
        <tr>
          <td><strong>アプリ別処理</strong></td>
          <td>処理モードの設定、アプリとモードのマッピング</td>
        </tr>
        <tr>
          <td><strong>AI処理</strong></td>
          <td>AIプロバイダの選択（OpenAI / Anthropic / Groq / Gemini / ローカルLLM）、モデル選択、APIキーの入力</td>
        </tr>
        <tr>
          <td><strong>ライセンス</strong></td>
          <td>ライセンス種別の確認、ライセンスキーの入力</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- ========== Section 4: グローバルホットキー ========== -->
  <section id="hotkey" class="content-section">
    <h2><span class="section-num">4</span>グローバルホットキー</h2>

    <p>RocketWhisper はカスタマイズ可能なグローバルホットキーに対応しており、どのアプリを使用中でも即座に録音を開始できます。さらに、<strong>右Optionキー</strong>のタップや長押し（Push-to-Talk）にも対応しています。</p>

    <h3>右Optionキーの操作</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>操作</th>
          <th>動作</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>右Optionを押し続ける &rarr; 離す</strong></td>
          <td>Push-to-Talk（押している間だけ録音、離すと停止して認識開始）</td>
        </tr>
        <tr>
          <td><strong>右Optionを素早く2回タップ</strong></td>
          <td>常時録音モードに切り替え（もう一度タップで停止）</td>
        </tr>
        <tr>
          <td><strong>右Option押し中に他のキーを入力</strong></td>
          <td>録音キャンセル（通常のOption修飾キーとして動作）</td>
        </tr>
      </tbody>
    </table>

    <h3>おすすめホットキー設定</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>ホットキー</th>
          <th>タイプ</th>
          <th>説明</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>&#8997;Space</code></td>
          <td>トグル式</td>
          <td><strong>デフォルト設定</strong>。Option + Space で録音開始/停止。Superwhisper と同じキー。</td>
        </tr>
        <tr>
          <td><code>右Option</code>（長押し）</td>
          <td>Push-to-Talk</td>
          <td>最もおすすめ。押している間だけ録音し、離すと自動停止。</td>
        </tr>
        <tr>
          <td><code>&#8963;&#8679;R</code></td>
          <td>トグル式</td>
          <td>Record の R。押すたびに録音開始/停止が切り替わる。</td>
        </tr>
        <tr>
          <td><code>F9</code></td>
          <td>トグル式</td>
          <td>ファンクションキー。他のショートカットと競合しにくい。</td>
        </tr>
      </tbody>
    </table>

    <h3>録音キャンセル</h3>
    <p>録音中に <code>Escape</code> キーを押すと、録音をキャンセルして認識処理を行わずに終了できます。</p>

    <div class="info-card">
      <h4>AIコマンドホットキー</h4>
      <p><code>&#8963;&#8679;Space</code>（Control + Shift + Space）で AIコマンドモードを起動できます。詳しくは <a href="#ai-command">AIコマンドモード</a> のセクションをご覧ください。</p>
    </div>

    <div class="warning-box">
      <p><strong>注意:</strong> グローバルホットキーの動作には<strong>アクセシビリティ権限</strong>が必要です。初回起動時に権限の許可を求められます。<strong>システム設定</strong> &gt; <strong>プライバシーとセキュリティ</strong> &gt; <strong>アクセシビリティ</strong> で RocketWhisper が有効になっていることを確認してください。</p>
    </div>
  </section>

  <!-- ========== Section 5: 認識履歴 ========== -->
  <section id="history" class="content-section">
    <h2><span class="section-num">5</span>認識履歴</h2>

    <p>RocketWhisper は過去の認識結果を自動的に保存します。ポップアップウィンドウの<strong>履歴ボタン</strong>をクリックすると、認識履歴の一覧を確認できます。</p>

    <h3>履歴機能</h3>
    <ul>
      <li><strong>一覧表示:</strong> 過去の認識結果をタイムスタンプ付きで表示</li>
      <li><strong>検索:</strong> キーワードで過去の認識結果を検索</li>
      <li><strong>コピー:</strong> 任意の履歴項目をクリップボードにコピー</li>
      <li><strong>削除:</strong> 不要な履歴を個別に削除</li>
      <li><strong>エクスポート:</strong> 履歴をテキストファイルとしてエクスポート</li>
    </ul>
  </section>

  <!-- ========== Section 6: テキスト処理 ========== -->
  <section id="text-processing" class="content-section">
    <h2><span class="section-num">6</span>テキスト処理（句読点・改行）</h2>

    <p>RocketWhisper は、認識されたテキストを自然な日本語にするための高度なテキスト処理機能を搭載しています。</p>

    <h3>句読点プロンプト</h3>
    <p>Whisper モデルに対して句読点を含む出力を促すプロンプトを設定します。これにより、モデル自体が句読点を含むテキストを生成しやすくなります。</p>

    <h3>句読点自動挿入</h3>
    <p>認識結果に対して後処理として7つのルールベースで句読点を自動的に挿入します。Whisper の出力に句読点が不足している場合でも、自然な句読点が付与されます。</p>

    <div class="info-card">
      <h4>句読点挿入ルール（7段階）</h4>
      <ul>
        <li>文末表現（〜です、〜ます 等）の後に句点「。」を挿入</li>
        <li>接続助詞（〜が、〜けど 等）の後に読点「、」を挿入</li>
        <li>疑問文の末尾に「？」を挿入</li>
        <li>感嘆文の末尾に「！」を挿入</li>
        <li>列挙表現に読点を挿入</li>
        <li>長い文節の区切りに読点を挿入</li>
        <li>行頭の不要な句読点を除去</li>
      </ul>
    </div>

    <h3>改行自動挿入</h3>
    <p>文の区切りで自動的に改行を挿入する機能です。長い文章をパラグラフに分けて読みやすくします。</p>

    <div class="tip-box">
      <p><strong>Tip:</strong> 句読点自動挿入と改行自動挿入はそれぞれ独立して有効/無効を切り替えられます。チャットアプリでは改行を無効にし、ドキュメント作成時は有効にするなど、用途に応じて使い分けてください。</p>
    </div>
  </section>

  <!-- ========== Section 7: 音声コマンド ========== -->
  <section id="voice-commands" class="content-section">
    <h2><span class="section-num">7</span>音声コマンド</h2>

    <p>音声コマンドを使うと、特定のフレーズを話すことでテキスト編集操作を実行できます。設定の「テキスト処理」タブで有効/無効を切り替えられます。</p>

    <h3>対応コマンド一覧</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>コマンド</th>
          <th>トリガーフレーズ</th>
          <th>動作</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>改行</strong></td>
          <td>「改行」「かいぎょう」「エンター」</td>
          <td>改行を挿入</td>
        </tr>
        <tr>
          <td><strong>段落</strong></td>
          <td>「段落」「だんらく」「新しい段落」</td>
          <td>2回改行を挿入（段落区切り）</td>
        </tr>
        <tr>
          <td><strong>削除</strong></td>
          <td>「削除」「取り消し」「デリート」</td>
          <td>直前の単語を削除</td>
        </tr>
      </tbody>
    </table>

    <div class="tip-box">
      <p><strong>Tip:</strong> 音声コマンドは、テキスト処理パイプラインの Stage 1 で処理されます。コマンドと一致するフレーズが検出されると、対応する操作が実行され、そのフレーズはテキストから除去されます。</p>
    </div>
  </section>

  <!-- ========== Section 8: 単語辞書 ========== -->
  <section id="dictionary" class="content-section">
    <h2><span class="section-num">8</span>単語辞書（専門用語登録）</h2>

    <p>単語辞書を使うと、Whisper が認識しにくい専門用語・社名・人名・略語などを事前に登録し、認識精度を大幅に向上させることができます。これは <strong>macOS 標準の音声入力にはない機能</strong>です。</p>

    <h3>仕組み</h3>
    <p>登録された単語は WhisperKit の <strong>promptTokens</strong> として使用されます。これにより、Whisper モデルが該当する語彙を優先的に出力するようになります。</p>

    <h3>登録方法</h3>
    <ol class="steps-list">
      <li>設定画面の「単語辞書」タブを開きます。</li>
      <li>「追加」ボタンをクリックします。</li>
      <li>登録したい単語（例: <code>React</code>, <code>TypeScript</code>, <code>AWS</code>）を入力します。</li>
      <li>必要に応じて「読み」を設定します（Whisper の認識補助用）。</li>
    </ol>

    <div class="warning-box">
      <p><strong>注意:</strong> 登録語は<strong>約15語</strong>（短いトークン）を上限としてください。登録語が多すぎるとデコーダーのログ確率に影響し、認識精度が低下する場合があります。</p>
    </div>

    <div class="info-card">
      <h4>登録例</h4>
      <ul>
        <li><strong>技術用語:</strong> React、TypeScript、Kubernetes、Docker</li>
        <li><strong>社名:</strong> Mojosoft、OpenAI</li>
        <li><strong>人名:</strong> 田中太郎</li>
        <li><strong>略語:</strong> AWS、GCP、CI/CD</li>
      </ul>
    </div>

    <h3>特長</h3>
    <ul>
      <li><strong>完全ローカル処理</strong> &mdash; APIコスト不要、インターネット接続不要</li>
      <li><strong>リアルタイム反映</strong> &mdash; 登録後すぐに次の認識から有効</li>
      <li><strong>辞書置換にも対応</strong> &mdash; 認識結果の自動置換ルールとしても使用可能</li>
    </ul>
  </section>

  <!-- ========== Section 9: 誤認識修正ルール ========== -->
  <section id="correction" class="content-section">
    <h2><span class="section-num">9</span>誤認識修正ルール</h2>

    <p>Whisper の認識結果に含まれる誤認識を自動的に修正するルールを設定できます。シンプルな文字列置換と正規表現の両方に対応しています。</p>

    <h3>ルール種別</h3>
    <ul>
      <li><strong>シンプル置換:</strong> 特定の文字列を別の文字列に置き換えます（例: 「お電話」→「お伝」）</li>
      <li><strong>正規表現:</strong> 正規表現パターンを使った高度な置換が可能です</li>
      <li><strong>大文字小文字の区別:</strong> ルールごとに大文字小文字を区別するかどうかを設定できます</li>
    </ul>

    <h3>内蔵ハルシネーション対策</h3>
    <p>Whisper モデルが無音時に生成しがちな「幻聴テキスト」（ハルシネーション）を自動除去する<strong>27種類のフィルター</strong>が内蔵されています。例えば以下のようなテキストが自動的に除去されます。</p>
    <ul>
      <li>「ご視聴ありがとうございました」</li>
      <li>「チャンネル登録お願いします」</li>
      <li>「おやすみなさい」（無音時のハルシネーション）</li>
    </ul>

    <h3>プリセットルール</h3>
    <p>よくある誤認識パターンに対応するプリセットルールが用意されています。設定画面からワンクリックで有効化できます。</p>

    <h3>カスタムルール</h3>
    <ol class="steps-list">
      <li>設定画面の「誤認識修正」タブを開きます。</li>
      <li>「ルール追加」ボタンをクリックします。</li>
      <li>検索文字列（誤認識されるテキスト）と置換文字列（正しいテキスト）を入力します。</li>
      <li>必要に応じて「正規表現を使用」「大文字小文字を無視」オプションを設定します。</li>
    </ol>
  </section>

  <!-- ========== Section 10: アプリ別処理モード ========== -->
  <section id="app-modes" class="content-section">
    <h2><span class="section-num">10</span>アプリ別処理モード</h2>

    <p>アプリ別処理モードを使うと、フォーカスされているアプリに応じて自動的に異なるテキスト処理設定を適用できます。例えば、テキストエディタでは句読点付きの丁寧な文章を、チャットアプリではカジュアルな文体を自動的に選択できます。</p>

    <h3>処理モード一覧</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>モード</th>
          <th>AI必須</th>
          <th>説明</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>スマート</strong></td>
          <td>不要</td>
          <td>句読点・改行を自動整形。最も汎用的なモード。</td>
        </tr>
        <tr>
          <td><strong>シンプル</strong></td>
          <td>不要</td>
          <td>認識結果をそのまま出力。最小限の処理。</td>
        </tr>
        <tr>
          <td><strong>ビジネス</strong></td>
          <td>必須</td>
          <td>敬語・丁寧な文体に自動変換。メール・ドキュメント向け。</td>
        </tr>
        <tr>
          <td><strong>カジュアル</strong></td>
          <td>必須</td>
          <td>親しみやすい文体に変換。チャット・SNS向け。</td>
        </tr>
        <tr>
          <td><strong>要約</strong></td>
          <td>必須</td>
          <td>認識テキストを要約して出力。議事録・メモ向け。</td>
        </tr>
        <tr>
          <td><strong>翻訳</strong></td>
          <td>必須</td>
          <td>日本語から英語に翻訳して出力。</td>
        </tr>
        <tr>
          <td><strong>文法修正</strong></td>
          <td>必須</td>
          <td>誤認識や文法ミスをAIが修正して出力。</td>
        </tr>
      </tbody>
    </table>

    <h3>アプリマッピングの設定</h3>
    <ol class="steps-list">
      <li>設定画面の「アプリ別処理」タブを開きます。</li>
      <li>「アプリ別処理モード」を有効にします。</li>
      <li>「追加」ボタンでアプリを選択し、適用するモードを設定します。</li>
    </ol>

    <div class="tip-box">
      <p><strong>Tip:</strong> アプリ別処理モードが有効で、かつ現在のアプリにモードが設定されている場合はモード固有の設定が適用されます。それ以外の場合はグローバル設定が使用されます。</p>
    </div>
  </section>

  <!-- ========== Section 11: AI処理（LLM連携） ========== -->
  <section id="ai" class="content-section">
    <h2><span class="section-num">11</span>AI処理（LLM連携）</h2>

    <p>RocketWhisper は5つのAIプロバイダと連携し、認識テキストの自動整形、翻訳、要約などの高度な処理を実行できます。</p>

    <h3>対応AIプロバイダ</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>プロバイダ</th>
          <th>モデル例</th>
          <th>特徴</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>OpenAI</strong></td>
          <td>GPT-4o, GPT-4o mini</td>
          <td>高精度、幅広い言語対応</td>
        </tr>
        <tr>
          <td><strong>Anthropic</strong></td>
          <td>Claude Sonnet 4.5, Haiku 4.5</td>
          <td>自然な日本語、丁寧な出力</td>
        </tr>
        <tr>
          <td><strong>Groq</strong></td>
          <td>LLaMA 3.3 70B</td>
          <td>超高速推論、無料枠あり</td>
        </tr>
        <tr>
          <td><strong>Google Gemini</strong></td>
          <td>Gemini 2.5 Pro / Flash</td>
          <td>無料枠が豊富、マルチモーダル対応</td>
        </tr>
        <tr>
          <td><strong>ローカルLLM</strong></td>
          <td>LM Studio, Ollama</td>
          <td>完全オフライン、プライバシー重視</td>
        </tr>
      </tbody>
    </table>

    <h3>設定方法</h3>
    <ol class="steps-list">
      <li>設定画面の「AI処理」タブを開きます。</li>
      <li>使用するプロバイダを選択します。</li>
      <li>APIキーを入力します（ローカルLLMの場合は不要）。</li>
      <li>使用するモデルを選択します。</li>
      <li>AI処理を有効にして、処理モードを選択します。</li>
    </ol>

    <h3>ローカルLLM の設定例</h3>
    <div class="info-card">
      <h4>LM Studio と連携する場合</h4>
      <ol>
        <li><a href="https://lmstudio.ai">LM Studio</a> をインストールし、お好みのモデルをダウンロードします。</li>
        <li>LM Studio でローカルサーバーを起動します（デフォルト: <code>http://localhost:1234</code>）。</li>
        <li>RocketWhisper の AI処理設定で「ローカルLLM」を選択します。</li>
        <li>ベースURLに <code>http://localhost:1234</code> を入力します。</li>
        <li>モデルIDは空欄でOKです（LM Studio がロード中のモデルを自動使用します）。</li>
        <li>APIキーは空欄、またはダミーの値（例: <code>lm-studio</code>）を入力します。</li>
      </ol>
    </div>

    <div class="info-card" style="margin-top: 12px;">
      <h4>Ollama と連携する場合</h4>
      <ol>
        <li><a href="https://ollama.com">Ollama</a> をインストールします。</li>
        <li>ターミナルで使いたいモデルをダウンロードします:
          <br><code>ollama pull llama3.2</code>（例: Llama 3.2 の場合）
        </li>
        <li>Ollama サーバーが起動していることを確認します（通常はインストール後に自動起動）。</li>
        <li>RocketWhisper の AI処理設定で「ローカルLLM」を選択します。</li>
        <li>ベースURLに <code>http://localhost:11434</code> を入力します。</li>
        <li><strong>モデルIDにダウンロード済みのモデル名を入力します</strong>（例: <code>llama3.2</code>、<code>qwen2.5</code>、<code>gemma2</code> 等）。
          <br>※ <code>ollama list</code> コマンドで利用可能なモデル名を確認できます。</li>
        <li>APIキーは空欄のままでOKです（Ollama では不要）。</li>
      </ol>
    </div>

    <div class="tip-box">
      <p><strong>Tip:</strong> コストを抑えたい場合は <strong>Groq</strong>（無料枠あり）や <strong>Google Gemini</strong>（無料枠が豊富）がおすすめです。完全なプライバシーが必要な場合は、<strong>ローカルLLM</strong> を使用すると音声認識からAI処理まですべてオフラインで完結します。</p>
    </div>
  </section>

  <!-- ========== Section 12: AIコマンドモード ========== -->
  <section id="ai-command" class="content-section">
    <h2><span class="section-num">12</span>AIコマンドモード</h2>

    <p>AIコマンドモードは、選択中のテキストに対して音声で指示を出し、AIに処理させる機能です。テキストの翻訳、要約、敬語変換など、さまざまな編集操作を声だけで実行できます。</p>

    <h3>使い方</h3>
    <ol class="steps-list">
      <li>任意のアプリでテキストを選択します。</li>
      <li><code>&#8963;&#8679;Space</code>（Control + Shift + Space）を押してAIコマンドモードを起動します。</li>
      <li>マイクに向かって指示を話します（例: 「英語に翻訳して」）。</li>
      <li>AIが選択テキストを指示に従って処理し、結果で置き換えます。</li>
    </ol>

    <h3>使用例</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>音声指示</th>
          <th>処理内容</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>「英語に翻訳して」</td>
          <td>選択テキストを英語に翻訳</td>
        </tr>
        <tr>
          <td>「要約して」</td>
          <td>選択テキストを簡潔に要約</td>
        </tr>
        <tr>
          <td>「敬語にして」</td>
          <td>カジュアルな文章を丁寧な敬語に変換</td>
        </tr>
        <tr>
          <td>「コメントを追加して」</td>
          <td>コードにコメントを追加</td>
        </tr>
        <tr>
          <td>「箇条書きにして」</td>
          <td>文章を箇条書き形式に変換</td>
        </tr>
        <tr>
          <td>「誤字を直して」</td>
          <td>文章の誤字脱字を修正</td>
        </tr>
      </tbody>
    </table>

    <div class="warning-box">
      <p><strong>注意:</strong> AIコマンドモードを使用するには、AI処理設定でいずれかのプロバイダのAPIキーが設定されている必要があります。</p>
    </div>
  </section>

  <!-- ========== Section 13: ボイスランチャー ========== -->
  <section id="voice-launcher" class="content-section">
    <h2><span class="section-num">13</span>ボイスランチャー</h2>

    <p>ボイスランチャーは、登録したキーワードを話すだけでアプリの起動やURLの表示を実行できる機能です。テキスト処理パイプラインの最初（Stage 0）で処理されるため、キーワードに一致した場合は他の処理は行われません。</p>

    <h3>仕組み</h3>
    <ul>
      <li><strong>完全一致</strong>でキーワードを判定（句読点は無視、大文字小文字は無視）</li>
      <li>キーワードに一致すると、登録されたアプリを起動またはURLをブラウザで表示</li>
      <li>マッチした場合、テキスト出力は行われません（アクション実行のみ）</li>
    </ul>

    <h3>設定方法</h3>
    <ol class="steps-list">
      <li>設定画面からボイスランチャーの設定を開きます。</li>
      <li>「追加」ボタンをクリックします。</li>
      <li>トリガーとなるキーワード（例: 「メモ」「ブラウザ」）を入力します。</li>
      <li>起動するアプリのパスまたはURLを入力します。</li>
    </ol>

    <h3>設定例</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>キーワード</th>
          <th>アクション</th>
          <th>種別</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>「メモ」</td>
          <td><code>/Applications/Notes.app</code></td>
          <td>アプリ起動</td>
        </tr>
        <tr>
          <td>「ブラウザ」</td>
          <td><code>/Applications/Safari.app</code></td>
          <td>アプリ起動</td>
        </tr>
        <tr>
          <td>「ターミナル」</td>
          <td><code>/Applications/Utilities/Terminal.app</code></td>
          <td>アプリ起動</td>
        </tr>
        <tr>
          <td>「GitHub」</td>
          <td><code>https://github.com</code></td>
          <td>URL表示</td>
        </tr>
        <tr>
          <td>「メール」</td>
          <td><code>/System/Applications/Mail.app</code></td>
          <td>アプリ起動</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- ========== Section 14: 音声検索 ========== -->
  <section id="voice-search" class="content-section">
    <h2><span class="section-num">14</span>音声検索</h2>

    <p>音声検索機能を使うと、特定のフレーズを話すだけでGoogle検索を即座に実行できます。検索結果はデフォルトのブラウザで表示されます。</p>

    <h3>対応フレーズ（10パターン）</h3>
    <table class="command-table">
      <thead>
        <tr>
          <th>フレーズパターン</th>
          <th>例</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>「〜について調べて」</td>
          <td>「SwiftUIについて調べて」</td>
        </tr>
        <tr>
          <td>「〜を調べて」</td>
          <td>「Neural Engineを調べて」</td>
        </tr>
        <tr>
          <td>「〜を検索して」</td>
          <td>「macOS Sequoiaを検索して」</td>
        </tr>
        <tr>
          <td>「〜を検索」</td>
          <td>「RocketWhisperを検索」</td>
        </tr>
        <tr>
          <td>「〜をググって」</td>
          <td>「Apple Silicon M4をググって」</td>
        </tr>
        <tr>
          <td>「〜って何」</td>
          <td>「WhisperKitって何」</td>
        </tr>
        <tr>
          <td>「〜とは」</td>
          <td>「CoreMLとは」</td>
        </tr>
        <tr>
          <td>「〜について教えて」</td>
          <td>「Metal APIについて教えて」</td>
        </tr>
        <tr>
          <td>「〜を調べたい」</td>
          <td>「新しいMacBookを調べたい」</td>
        </tr>
        <tr>
          <td>「〜で検索して」</td>
          <td>「音声認識 精度で検索して」</td>
        </tr>
      </tbody>
    </table>

    <div class="tip-box">
      <p><strong>Tip:</strong> 音声検索はテキスト処理パイプラインの Stage 0.5 で処理されます。キーワード部分が自動的に抽出され、Google 検索のクエリとして使用されます。</p>
    </div>
  </section>

  <!-- ========== Section 15: メニューバーアイコン ========== -->
  <section id="menubar" class="content-section">
    <h2><span class="section-num">15</span>メニューバーアイコン</h2>

    <p>RocketWhisper は macOS のメニューバーに常駐するアプリです。Dock には表示されず、メニューバーのアイコンからすべての操作にアクセスできます。</p>

    <h3>基本操作</h3>
    <ul>
      <li><strong>クリック:</strong> メニューバーのアイコンをクリックすると、ポップアップウィンドウが表示されます。</li>
      <li><strong>録音状態の表示:</strong> 録音中はアイコンが変化し、現在の状態を視覚的に確認できます。</li>
      <li><strong>常時起動:</strong> ログイン項目に追加することで、Mac起動時に自動的にメニューバーに常駐させることができます。</li>
    </ul>

    <h3>ログイン時に自動起動する設定</h3>
    <ol class="steps-list">
      <li><strong>システム設定</strong>を開きます。</li>
      <li><strong>一般</strong> &gt; <strong>ログイン項目</strong>を選択します。</li>
      <li>「+」ボタンで RocketWhisper を追加します。</li>
    </ol>

    <div class="tip-box">
      <p><strong>Tip:</strong> メニューバーアイコンは常に表示されるため、ホットキーと組み合わせることで、作業を中断することなく即座に音声入力を開始できます。</p>
    </div>
  </section>

  <!-- ========== Section 16: フローティング波形インジケーター ========== -->
  <section id="waveform" class="content-section">
    <h2><span class="section-num">16</span>フローティング波形インジケーター</h2>

    <p>録音中に画面上に小さなミニイコライザー風の波形バーを表示するフローティングウィンドウです。常に最前面に表示されるため、他のアプリで作業中でも録音状態を一目で確認できます。</p>

    <h3>表示仕様</h3>
    <div class="info-card">
      <h4>インジケーターの詳細</h4>
      <ul>
        <li><strong>サイズ:</strong> 96 x 48 ピクセル（コンパクトなカプセル型）</li>
        <li><strong>バー数:</strong> 8本のミニイコライザー風バー</li>
        <li><strong>色:</strong> 青 &rarr; 紫 &rarr; ピンクのグラデーション</li>
        <li><strong>背景:</strong> すりガラス風（ultraThinMaterial）+ 角丸</li>
        <li><strong>表示:</strong> 録音開始でフェードイン、停止でフェードアウト</li>
        <li><strong>初期位置:</strong> 画面下部の中央</li>
      </ul>
    </div>

    <h3>操作方法</h3>
    <ul>
      <li><strong>ドラッグ移動:</strong> インジケーターをドラッグして好きな位置に移動できます。</li>
      <li><strong>位置の記憶:</strong> 移動した位置はアプリ終了後も保存され、次回起動時に同じ位置に表示されます。</li>
      <li><strong>全Space対応:</strong> macOS の全デスクトップ（Space）で表示されます。</li>
      <li><strong>常に最前面:</strong> 他のウィンドウの上に表示され続けます。</li>
    </ul>

    <h3>設定</h3>
    <p>設定画面の「モデル・言語」タブにある<strong>「録音中にフローティング波形を表示」</strong>のトグルで有効/無効を切り替えられます。デフォルトは有効（ON）です。</p>

    <div class="tip-box">
      <p><strong>Tip:</strong> 位置をリセットしたい場合は、ターミナルで以下のコマンドを実行してください:<br>
      <code>defaults delete biz.mojosoft.RocketWhisper FloatingWaveformX</code><br>
      <code>defaults delete biz.mojosoft.RocketWhisper FloatingWaveformY</code></p>
    </div>
  </section>

  <!-- ========== Section 17: バッチ処理 ========== -->
  <section id="batch" class="content-section">
    <h2><span class="section-num">17</span>バッチ処理</h2>

    <p>複数の音声ファイルをまとめて文字起こしできる機能です。録音済みの会議音声やインタビューファイルを一括処理するのに便利です。</p>

    <h3>起動方法</h3>
    <ol class="steps-list">
      <li>メニューバーのポップアップを開きます。</li>
      <li>ヘッダー右側の<strong>バッチ処理ボタン</strong>（書類アイコン）をクリックします。</li>
      <li>独立したバッチ処理ウィンドウが開きます。</li>
    </ol>

    <h3>使い方</h3>
    <ol class="steps-list">
      <li><strong>ファイルを追加</strong>: 「ファイルを追加」ボタンで音声ファイルを選択、またはウィンドウにドラッグ&amp;ドロップします。</li>
      <li><strong>一括認識開始</strong>: 「一括認識開始」ボタンをクリックすると、追加したファイルを順番に文字起こしします。</li>
      <li><strong>結果確認</strong>: 各ファイルの認識結果（文字数）がリストに表示されます。</li>
      <li><strong>エクスポート</strong>: 「エクスポート」メニューから出力形式を選び、保存先フォルダを指定します。</li>
    </ol>

    <h3>対応ファイル形式</h3>
    <div class="info-box">
      <p>WAV, MP3, M4A, FLAC, OGG, WMA, AAC, AIFF</p>
    </div>

    <h3>エクスポート形式</h3>
    <table>
      <thead>
        <tr>
          <th>形式</th>
          <th>説明</th>
          <th>用途</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><strong>TXT</strong></td>
          <td>プレーンテキスト</td>
          <td>一般的な文字起こしテキスト</td>
        </tr>
        <tr>
          <td><strong>SRT</strong></td>
          <td>SubRip字幕形式</td>
          <td>動画編集ソフトでの字幕作成</td>
        </tr>
        <tr>
          <td><strong>VTT</strong></td>
          <td>WebVTT字幕形式</td>
          <td>Web動画やHTML5での字幕表示</td>
        </tr>
      </tbody>
    </table>

    <div class="tip-box">
      <p><strong>Tip:</strong> バッチ処理は独自のWhisperモデルインスタンスを使用するため、リアルタイム音声入力と同時に使用できます。ただし、大量のファイルを処理する場合はメモリ使用量にご注意ください。</p>
    </div>
  </section>

  <!-- ========== Section 18: トラブルシューティング ========== -->
  <section id="troubleshooting" class="content-section">
    <h2><span class="section-num">18</span>トラブルシューティング</h2>

    <p>問題が発生した場合は、以下のFAQを参考にしてください。</p>

    <div class="faq-item">
      <button class="faq-question">モデルのダウンロードが途中で止まる</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>ネットワーク接続を確認してください。モデルファイルは数百MB〜3GBと大きいため、安定したWi-Fi環境でのダウンロードを推奨します。ダウンロードが中断された場合は、アプリを再起動して再度ダウンロードを試みてください。VPNやプロキシを使用している場合は、一時的に無効にすることで解決する場合があります。</p>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">認識精度が低い</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>以下の点を確認してください:</p>
          <ul>
            <li><strong>モデルの変更:</strong> より大きなモデル（Large V3 Turbo 推奨）に切り替えてください。</li>
            <li><strong>マイクの調整:</strong> 外付けマイクの使用、マイクとの距離の調整、周囲の騒音の軽減を試してください。</li>
            <li><strong>言語設定:</strong> 認識言語が正しく設定されているか確認してください。</li>
            <li><strong>単語辞書:</strong> 専門用語が多い場合は、単語辞書に登録することで精度が向上します。</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">ホットキーが動作しない</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p><strong>アクセシビリティ権限</strong>を確認してください。</p>
          <ol>
            <li><strong>システム設定</strong>を開きます。</li>
            <li><strong>プライバシーとセキュリティ</strong> &gt; <strong>アクセシビリティ</strong>を選択します。</li>
            <li>RocketWhisper が一覧に表示されていて、トグルが有効になっていることを確認します。</li>
            <li>一覧にない場合は「+」ボタンで追加してください。</li>
            <li>既に追加済みで動作しない場合は、一度無効にしてから再度有効にしてください。</li>
          </ol>
          <p>また、他のアプリが同じホットキーを使用していないか確認してください。競合がある場合は、別のホットキーに変更してください。</p>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">音声コマンドが認識されない</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>以下を試してください:</p>
          <ul>
            <li>コマンドをはっきりと発声してください。「改行」であれば、「か・い・ぎょ・う」と一語ずつ明瞭に発音すると認識率が上がります。</li>
            <li>設定画面で「音声コマンド」が有効になっていることを確認してください。</li>
            <li>コマンドの前後に不要な語が入ると認識されない場合があります。コマンドだけを単独で発話してください。</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">アプリが起動しない</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>以下を確認してください:</p>
          <ul>
            <li><strong>macOS バージョン:</strong> macOS 14.0 Sonoma 以降が必要です。<strong>Apple メニュー</strong> &gt; <strong>このMacについて</strong>でバージョンを確認してください。</li>
            <li><strong>Gatekeeper:</strong> 初回起動時に「開発元が未確認のため開けません」と表示される場合は、<strong>システム設定</strong> &gt; <strong>プライバシーとセキュリティ</strong>の画面で「このまま開く」をクリックしてください。</li>
            <li><strong>Apple Silicon:</strong> Intel Mac でも動作しますが、Apple Silicon（M1以降）を推奨します。</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">AI処理が動作しない</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>以下を確認してください:</p>
          <ul>
            <li><strong>APIキー:</strong> 設定画面でAPIキーが正しく入力されているか確認してください。</li>
            <li><strong>インターネット接続:</strong> クラウドAIプロバイダを使用する場合は、インターネット接続が必要です。</li>
            <li><strong>API残高:</strong> OpenAI や Anthropic の場合、APIクレジットが残っているか確認してください。</li>
            <li><strong>ローカルLLM:</strong> LM Studio や Ollama を使用する場合は、ローカルサーバーが起動していることを確認してください。</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">マイクの権限を許可する方法</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>RocketWhisper がマイクにアクセスするには権限が必要です。</p>
          <ol>
            <li><strong>システム設定</strong>を開きます。</li>
            <li><strong>プライバシーとセキュリティ</strong> &gt; <strong>マイク</strong>を選択します。</li>
            <li>RocketWhisper のトグルが有効になっていることを確認します。</li>
          </ol>
          <p>初回起動時に権限ダイアログが表示されなかった場合は、アプリを一度終了して再起動してください。</p>
        </div>
      </div>
    </div>

    <div class="faq-item">
      <button class="faq-question">認識結果が空になる</button>
      <div class="faq-answer">
        <div class="faq-answer-content">
          <p>以下を確認してください:</p>
          <ul>
            <li><strong>マイク入力:</strong> 設定の「入力デバイス」タブで正しいマイクが選択されているか確認してください。</li>
            <li><strong>マイク権限:</strong> macOS のプライバシー設定でマイクのアクセス権限が許可されているか確認してください。</li>
            <li><strong>音量:</strong> マイクの入力音量が十分か確認してください。システム設定の「サウンド」&gt;「入力」で確認できます。</li>
            <li><strong>録音時間:</strong> 極端に短い録音（1秒未満）では認識結果が得られない場合があります。</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- ========== Support Link ========== -->
  <section class="support-link-section">
    <h3>解決しない場合は</h3>
    <p>上記で問題が解決しない場合は、サポートページからお問い合わせください。</p>
    <a href="support.html" class="btn-support">
      <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
      サポートに問い合わせる
    </a>
  </section>

</main>

<!-- ========== Footer ========== -->
<footer>
  <div class="container">
    <div class="footer-content">
      <div class="footer-logo">Rocket<span>Whisper</span> for Mac</div>
      <ul class="footer-links">
        <li><a href="index.html#features">Features</a></li>
        <li><a href="purchase.html">Purchase</a></li>
        <li><a href="help.html">Help</a></li>
        <li><a href="privacy.html">Privacy</a></li>
        <li><a href="support.html">Support</a></li>
      </ul>
    </div>
    <div class="footer-copy">&copy; 2026 Mojosoft Co., Ltd. All rights reserved.</div>
  </div>
</footer>

<!-- ========== Scripts ========== -->
<script>
// Navbar scroll effect
const navbar = document.getElementById('navbar');
window.addEventListener('scroll', () => {
  navbar.classList.toggle('scrolled', window.scrollY > 40);
});

// FAQ accordion toggle
document.querySelectorAll('.faq-question').forEach(button => {
  button.addEventListener('click', () => {
    const item = button.parentElement;
    const answer = button.nextElementSibling;
    const isActive = item.classList.contains('active');

    // Close all other items
    document.querySelectorAll('.faq-item.active').forEach(activeItem => {
      if (activeItem !== item) {
        activeItem.classList.remove('active');
        activeItem.querySelector('.faq-answer').style.maxHeight = '0';
      }
    });

    // Toggle current item
    if (isActive) {
      item.classList.remove('active');
      answer.style.maxHeight = '0';
    } else {
      item.classList.add('active');
      answer.style.maxHeight = answer.scrollHeight + 'px';
    }
  });
});

// Smooth scroll for TOC links
document.querySelectorAll('nav.toc a').forEach(link => {
  link.addEventListener('click', (e) => {
    e.preventDefault();
    const targetId = link.getAttribute('href').substring(1);
    const targetElement = document.getElementById(targetId);
    if (targetElement) {
      const navHeight = navbar.offsetHeight;
      const targetPosition = targetElement.getBoundingClientRect().top + window.scrollY - navHeight - 20;
      window.scrollTo({
        top: targetPosition,
        behavior: 'smooth'
      });
    }
  });
});
</script>
</body>
</html>
